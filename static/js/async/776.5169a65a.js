"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["776"],{5162:function(e,n,s){s.r(n),s.d(n,{default:function(){return h}});var r=s(1549),d=s(6603);function c(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",code:"code",h3:"h3",pre:"pre",ul:"ul",li:"li",div:"div"},(0,d.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"基本路径",children:["基本路径",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#基本路径",children:"#"})]}),"\n",(0,r.jsxs)(n.h2,{id:"默认路径",children:["默认路径",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#默认路径",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["静态资产的文件路径，总是会读取 ",(0,r.jsx)(n.code,{children:"package.json"})," 的 ",(0,r.jsx)(n.code,{children:"name"})," 来生成固定的路径：",(0,r.jsx)(n.code,{children:"/${name}/"}),"。"]}),"\n",(0,r.jsxs)(n.h3,{id:"srcentrynodets",children:["src/entry.node.ts",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#srcentrynodets",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",meta:'title="package.json"',children:'{\n    "name": "ssr-module-auth"\n}\n'})}),"\n",(0,r.jsxs)(n.h2,{id:"动态路径",children:["动态路径",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#动态路径",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"有时，我们将一套代码部署在不同的国家或地区的集群中，允许独立域名访问和二级目录访问。"}),"\n",(0,r.jsxs)(n.h3,{id:"二级目录",children:["二级目录",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#二级目录",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"主域名.com     -> 默认主站"}),"\n",(0,r.jsx)(n.li,{children:"主域名.com/cn/ -> 中文站点"}),"\n",(0,r.jsx)(n.li,{children:"主域名.com/en/ -> 英文站点"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"独立站点",children:["独立站点",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#独立站点",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"主域名.com   -> 默认主站"}),"\n",(0,r.jsx)(n.li,{children:"cn.域名.com  -> 中文站点"}),"\n",(0,r.jsx)(n.li,{children:"en.域名.com  -> 英文站点"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"动态传参",children:["动态传参",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#动态传参",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"你可以根据请求上下文，在给渲染函数传入不同的基本 URL。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const render = await gez.render({\n    base: '/gez'\n});\n"})}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"实现原理"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:["在服务端，静态资产文件的编译路径为 ",(0,r.jsx)(n.code,{children:"[[[___GEZ_DYNAMIC_BASE___]]]/${name}/"}),"，程序会将你返回的 ",(0,r.jsx)(n.code,{children:"html"})," 中的 ",(0,r.jsx)(n.code,{children:"[[[___GEZ_DYNAMIC_BASE___]]]"})," 占位符替换成你传入的 ",(0,r.jsx)(n.code,{children:"base"}),"。\n"]})})]})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}let h=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["guide%2Fessentials%2Fbase-path.mdx"]={toc:[{text:"默认路径",id:"默认路径",depth:2},{text:"src/entry.node.ts",id:"srcentrynodets",depth:3},{text:"动态路径",id:"动态路径",depth:2},{text:"二级目录",id:"二级目录",depth:3},{text:"独立站点",id:"独立站点",depth:3},{text:"动态传参",id:"动态传参",depth:3}],title:"基本路径",frontmatter:{}}}}]);